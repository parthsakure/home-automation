{"ast":null,"code":"var _jsxFileName = \"/Users/parthsakure/Desktop/Projects/home automation/frontend/src/components/login_register/logout.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { useMessageContext } from \"../../context/messageprovider\";\nimport { useUserExistContext } from \"../../context/userloggedIn\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Logout(params) {\n  _s();\n  const [redirect, setRedirect] = useState(false);\n  const userContext = useUserExistContext();\n  const msgcontext = useMessageContext();\n  const token = localStorage.getItem('access_token');\n  const logout = async () => {\n    if (token) {\n      await fetch(params.url + \"logout/\", {\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json',\n          \"Authorization\": token\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          msgcontext.append(\"You are logged out Successfully!\", 200);\n          localStorage.removeItem('access_token');\n          localStorage.removeItem('user_id');\n          localStorage.removeItem('username');\n          setRedirect(true);\n          userContext.set(false);\n        } else {\n          msgcontext.append(res.message, 400);\n        }\n      });\n    }\n  };\n  logout();\n  return redirect ? /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 20\n  }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Logging You Out\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 42\n  }, this);\n}\n_s(Logout, \"T8gVGT3QSutTmICUaX9XtnqMsBw=\", false, function () {\n  return [useUserExistContext, useMessageContext];\n});\n_c = Logout;\nexport default Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["useState","Navigate","useMessageContext","useUserExistContext","Logout","params","redirect","setRedirect","userContext","msgcontext","token","localStorage","getItem","logout","fetch","url","method","headers","then","res","status","append","removeItem","set","message"],"sources":["/Users/parthsakure/Desktop/Projects/home automation/frontend/src/components/login_register/logout.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { useMessageContext } from \"../../context/messageprovider\";\nimport { useUserExistContext } from \"../../context/userloggedIn\";\n\n\n\nfunction Logout(params) {\n    const [redirect, setRedirect] = useState(false);\n    const userContext = useUserExistContext();\n    const msgcontext = useMessageContext();\n\n    const token = localStorage.getItem('access_token');\n    const logout = async () => {\n        if (token) {\n            await fetch(params.url+\"logout/\", {\n                method: 'GET',\n                headers: {\n                    'Content-type':'application/json',\n                    \"Authorization\": token\n                }\n            }).then(res => {\n                if (res.status === 200) {\n                    msgcontext.append(\"You are logged out Successfully!\",200);\n                    localStorage.removeItem('access_token');\n                    localStorage.removeItem('user_id');\n                    localStorage.removeItem('username');\n                    setRedirect(true);\n                    userContext.set(false);\n                }\n                else {\n                    msgcontext.append(res.message,400);\n                }\n            })\n        }\n    }\n    logout();\n\n    return (\n        redirect ? <Navigate to=\"/\" /> : <h1>Logging You Out</h1>\n    );\n}\n\nexport default Logout;"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,iBAAiB,QAAQ,+BAA+B;AACjE,SAASC,mBAAmB,QAAQ,4BAA4B;AAAC;AAIjE,SAASC,MAAM,CAACC,MAAM,EAAE;EAAA;EACpB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAMQ,WAAW,GAAGL,mBAAmB,EAAE;EACzC,MAAMM,UAAU,GAAGP,iBAAiB,EAAE;EAEtC,MAAMQ,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;EAClD,MAAMC,MAAM,GAAG,YAAY;IACvB,IAAIH,KAAK,EAAE;MACP,MAAMI,KAAK,CAACT,MAAM,CAACU,GAAG,GAAC,SAAS,EAAE;QAC9BC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACL,cAAc,EAAC,kBAAkB;UACjC,eAAe,EAAEP;QACrB;MACJ,CAAC,CAAC,CAACQ,IAAI,CAACC,GAAG,IAAI;QACX,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;UACpBX,UAAU,CAACY,MAAM,CAAC,kCAAkC,EAAC,GAAG,CAAC;UACzDV,YAAY,CAACW,UAAU,CAAC,cAAc,CAAC;UACvCX,YAAY,CAACW,UAAU,CAAC,SAAS,CAAC;UAClCX,YAAY,CAACW,UAAU,CAAC,UAAU,CAAC;UACnCf,WAAW,CAAC,IAAI,CAAC;UACjBC,WAAW,CAACe,GAAG,CAAC,KAAK,CAAC;QAC1B,CAAC,MACI;UACDd,UAAU,CAACY,MAAM,CAACF,GAAG,CAACK,OAAO,EAAC,GAAG,CAAC;QACtC;MACJ,CAAC,CAAC;IACN;EACJ,CAAC;EACDX,MAAM,EAAE;EAER,OACIP,QAAQ,gBAAG,QAAC,QAAQ;IAAC,EAAE,EAAC;EAAG;IAAA;IAAA;IAAA;EAAA,QAAG,gBAAG;IAAA,UAAI;EAAe;IAAA;IAAA;IAAA;EAAA,QAAK;AAEjE;AAAC,GAlCQF,MAAM;EAAA,QAESD,mBAAmB,EACpBD,iBAAiB;AAAA;AAAA,KAH/BE,MAAM;AAoCf,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}